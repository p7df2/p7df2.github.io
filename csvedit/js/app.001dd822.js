(function(){"use strict";var e={1804:function(e,t,n){var l=n(9242),o=n(3396);function r(e,t,n,l,r,a){const i=(0,o.up)("CsvEditor");return(0,o.wg)(),(0,o.j4)(i)}n(7658);const a={id:"upload-container"};var i={__name:"FileUpload",emits:["fileUploaded"],setup(e,{emit:t}){const n=()=>{document.getElementById("fileInput").click()},l=e=>{if(1===e.target.files.length){let t=e.target.files[0];r(t.name)&&i(t)}else alert("Please upload a single file only")},r=e=>{let t=new RegExp("(.*?)(csv)$");return!!t.test(e.toLowerCase())||(e="",alert("The file format is not supported"),!1)},i=async e=>{const n=await e.text();let l=n.split(/\r?\n|\r|\n/g);if(l.length<1)return void alert("The uploaded file does not contain any data");let o=s(l),r=[];l.forEach((e=>{let t=e.split(o);if(r.length>1&&t.length<r[0].length)for(let n=1;n<r[0].length;n++)t.push("");r.push(t)})),t("fileUploaded",r)},s=e=>{let t=[",",";","|","    "],n="";return t.forEach((t=>{let l=e[0].split(t).length,o=e[1].split(t).length;l===o&&1!==l&&1!==o&&(n=t)})),n};return(e,t)=>((0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("button",{id:"btn-upload",class:"disable-select",onClick:n},"Select File"),(0,o._)("input",{id:"fileInput",type:"file",style:{display:"none"},accept:".csv",onChange:l},null,32)]))}},s=n(89);const c=(0,s.Z)(i,[["__scopeId","data-v-3c14ee00"]]);var u=c,d=n(7139);const v={class:"table"},f={class:"row header"},p=(0,o._)("div",{class:"cell"},"1",-1),g=(0,o._)("div",{class:"cell"},null,-1),h={class:"cell index"},w=["onClick"];var m={__name:"TheTable",props:["head","content"],setup(e){const t=e,n=e=>{let t=document.getElementsByClassName("row");if(t[e+1].classList.contains("removed")){t[e+1].classList.remove("removed");let n=t[e+1].children;for(let e=0;e<n.length;e++)n[e].classList.contains("index")||n[e].classList.contains("btn-remove")||n[e].classList.add("table-content")}else{t[e+1].classList.add("removed");let n=t[e+1].children;for(let e=0;e<n.length;e++)n[e].classList.remove("table-content")}};return(e,l)=>((0,o.wg)(),(0,o.iD)("div",v,[(0,o._)("div",f,[p,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.head,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"cell table-content",key:e,contenteditable:"true"},(0,d.zw)(e),1)))),128)),g]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.content,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"row",key:t},[(0,o._)("div",h,(0,d.zw)(t+2),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"cell table-content",key:e,contenteditable:"true"},(0,d.zw)(e),1)))),128)),(0,o._)("div",{class:"cell btn-remove",onClick:e=>n(t)},null,8,w)])))),128))]))}};const b=m;var _=b,y={__name:"FileExport",props:["cellsPerRow"],setup(e){const t=e,n=()=>{let e="",n=document.getElementsByClassName("table-content");for(let o=0;o<n.length;o++){if(0!==o&&o%t.cellsPerRow===0&&(e+="\n"),""!==n[o].innerText){let t=n[o].children;for(let e=0;e<t.length;e++)"BR"==t[e].tagName&&t[e].remove();let l=n[o].innerText;l.replace(/(\r\n|\n|\r)/gm,""),e+=l}o%t.cellsPerRow!==t.cellsPerRow-1&&(e+=";")}let l=document.createElement("a");l.href="data:attachment/csv,"+escape(e),l.download="export.csv",l.click(),console.log(e)};return(e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"btn-export disable-select",onClick:n},"Export File"))}};const k=(0,s.Z)(y,[["__scopeId","data-v-1e387222"]]);var x=k;const C={class:"btn-add disable-select"};function E(e,t){return(0,o.wg)(),(0,o.iD)("div",C,"+")}const j={},D=(0,s.Z)(j,[["render",E],["__scopeId","data-v-83d8ce5c"]]);var O=D,P=n(4870),L={__name:"CsvEditor",setup(e){const t=(0,P.iH)([]),n=(0,P.iH)([]),l=(0,P.iH)(!1),r=e=>{t.value=e[0],e.splice(0,1),n.value=e,l.value=!0},a=()=>{let e=t.value.length,l=[];for(let t=0;t<e;t++)l.push("");n.value.push(l)};return(e,i)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[l.value?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(u,{key:0,onFileUploaded:r})),l.value?((0,o.wg)(),(0,o.j4)(_,{key:1,head:t.value,content:n.value},null,8,["head","content"])):(0,o.kq)("",!0),l.value?((0,o.wg)(),(0,o.j4)(O,{key:2,onClick:a})):(0,o.kq)("",!0),l.value?((0,o.wg)(),(0,o.j4)(x,{key:3,cellsPerRow:t.value.length},null,8,["cellsPerRow"])):(0,o.kq)("",!0)],64))}};const R=(0,s.Z)(L,[["__scopeId","data-v-5dc7562d"]]);var T=R,H={name:"App",components:{CsvEditor:T}};const I=(0,s.Z)(H,[["render",r]]);var F=I;(0,l.ri)(F).mount("#app")}},t={};function n(l){var o=t[l];if(void 0!==o)return o.exports;var r=t[l]={exports:{}};return e[l](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,l,o,r){if(!l){var a=1/0;for(u=0;u<e.length;u++){l=e[u][0],o=e[u][1],r=e[u][2];for(var i=!0,s=0;s<l.length;s++)(!1&r||a>=r)&&Object.keys(n.O).every((function(e){return n.O[e](l[s])}))?l.splice(s--,1):(i=!1,r<a&&(a=r));if(i){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[l,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var o,r,a=l[0],i=l[1],s=l[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(s)var u=s(n)}for(t&&t(l);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},l=self["webpackChunkcsvedit"]=self["webpackChunkcsvedit"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[998],(function(){return n(1804)}));l=n.O(l)})();
//# sourceMappingURL=app.001dd822.js.map